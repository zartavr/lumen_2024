Задача выглядит следующим образом. Известны координаты произвольной точки на кривой, описывающей форму нити филамента: $х$ - задается при монтаже контроллера, $y$ - измеряется датчиком. По известной координате нужно вычислить длину нити между точками опоры. Зная длину нити в последовательные моменты времени можно найти скорость изменения длины нити, которая пропорциональна разности угловых скоростей катушек. Таким образом будет введена обратная связь, что позволит добавить в систему регулятор. 

Форма нити филамента на рассматриваемом участке установки описывается уравнением цепной линии:

$$y = a \cdot cosh(x/a) \tag{1}$$

Цепная линия - линия равновесия абсолютно гибкой и нерастяжимой однородной нити, находящейся в поле силы тяжести. Параметр $a$ характеризует, отношение сил в продольном направлении к удельному весу. 

Так как точки опоры в реальности несимметричны, требуется добавить параметры $p$ и $q$, смещения в системе координат:

$$y = a \cdot cosh(\frac{x-p}{a}) + q \tag{2}$$

Параметры $q$ и $q$ связывают свойства нити и положения  точек опоры:

$$p = \frac{x_1+x_2-a \; ln{(\frac{L+h}{L-h}})}{2} \tag{3}$$

$$q = \frac{y_1 + y_2 - L\; coth{(\frac{l}{2a}})}{2} \tag{4}$$

Остается неизвестным только параметр $a$, его можно получить решив трансцендентное уравнение:

$$\sqrt{L^2 - h^2} = 2a \; sinh{(\frac{l}{2a})} \tag{5}$$

Алгоритм решения:

Известны: 

$x$ - определяется положением контроллера

$l$, $h$, $(x_1; y_1)$, $(x_2; y_2)$ - определяются положением точек опоры

Измеряем: y - вертикальная координата точки на кривой филамента

Вычисление параметра $a$: решение трансцендентного уравнения $\text(5)$

Вычисление длины нити $L$: решение системы уравнений $\text(2-4)$

Вычисление разности линейных скоростей катушек: $\Delta L / \Delta t = v_A - v_B$
